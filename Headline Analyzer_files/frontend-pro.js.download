(()=>{var e={89:()=>{!function(){if(!wpconsent.geolocation.enabled)return;if("undefined"!=typeof wpconsentPreferences)return;const e=document.getElementById("wpconsent-container");e.style.display="none";const t=wpconsent.geolocation.api_url;fetch(t).then((e=>e.json())).then((t=>{if(t.show_banner)e.style.display="block";else{const e={essential:!0,statistics:!0,marketing:!0};WPConsent.setCookie("wpconsent_preferences",JSON.stringify(e),0),WPConsent.unlockScripts(e)}})).catch((t=>{e.classList.add("wpconsent-banner-visible")}))}()},981:()=>{window.addEventListener("wpconsent_consent_saved",(function(e){if(!wpconsent.records_of_consent||"0"===wpconsent.records_of_consent)return;const t=wpconsent.api_url+"/log-consent",n=wpconsent.nonce,o={"Content-Type":"application/json"};n&&(o["X-WP-Nonce"]=n),fetch(t,{method:"POST",headers:o,body:JSON.stringify({consent_data:JSON.stringify(e.detail)}),credentials:"same-origin"}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).catch((function(e){console.error("Error logging consent:",e)}))}))},799:()=>{window.WPConsent={acceptAll:function(){this.savePreferences({essential:!0,statistics:!0,marketing:!0}),this.closePreferences()},savePreferences:function(e){const t=this.getCookie("wpconsent_preferences");this.setCookie("wpconsent_preferences",JSON.stringify(e),wpconsent.consent_duration),this.hideBanner(),this.closePreferences(),this.unlockScripts(e);const n=this.shadowRoot?.querySelector("#wpconsent-consent-floating");n&&(n.style.display="block"),window.dispatchEvent(new CustomEvent("wpconsent_consent_saved",{detail:e})),t&&window.dispatchEvent(new CustomEvent("wpconsent_consent_updated",{detail:e}))},showPreferences:function(){const e=this.shadowRoot?.querySelector("#wpconsent-preferences-modal");e&&(e.style.display="flex")},closePreferences:function(){const e=this.shadowRoot?.querySelector("#wpconsent-preferences-modal");e&&(e.style.display="none")},showBanner:function(){const e=this.shadowRoot?.querySelector("#wpconsent-banner-holder");e&&e.classList.add("wpconsent-banner-visible")},hideBanner:function(){const e=this.shadowRoot?.querySelector("#wpconsent-banner-holder");e&&e.classList.remove("wpconsent-banner-visible")},setCookie:function(e,t,n){let o="";if(n>0){const e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),o="expires="+e.toUTCString()+";"}document.cookie=e+"="+t+";"+o+"path=/"},getCookie:function(e){const t=`; ${document.cookie}`.split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()},hasConsent:function(e){const t=this.getCookie("wpconsent_preferences");if(!t)return!1;try{const n=JSON.parse(t);return"essential"===e||!0===n[e]}catch(e){return console.error("Error parsing WPConsent preferences:",e),!1}},unlockScripts:function(e){document.querySelectorAll('script[type="text/plain"]').forEach((t=>{const n=t.getAttribute("data-wpconsent-category");if(e[n]){const e=document.createElement("script");t.getAttributeNames().forEach((n=>{"type"!==n&&e.setAttribute(n,t.getAttribute(n))}));const n=t.getAttribute("data-wpconsent-src");n?e.src=n:e.text=t.text,t.parentNode.replaceChild(e,t)}}))},init:function(){document.getElementById("wpconsent-root");const e=document.getElementById("wpconsent-container"),t=document.getElementById("wpconsent-template");if(this.shadowRoot=e.shadowRoot,!this.shadowRoot){this.shadowRoot=e.attachShadow({mode:"closed"});const n=t.content.cloneNode(!0);this.shadowRoot.appendChild(n),t.remove(),this.loadExternalCSS(),this.initializeEventListeners()}const n=this.getCookie("wpconsent_preferences");if(n){const e=JSON.parse(n);this.unlockScripts(e);const t=this.shadowRoot.querySelector("#wpconsent-consent-floating");t&&(t.style.display="block")}else this.showBanner()},loadExternalCSS:async function(){try{const e=`${wpconsent.css_url}?ver=${wpconsent.css_version}`,t=await fetch(e),n=await t.text(),o=document.createElement("style");o.textContent=n,this.shadowRoot.appendChild(o)}catch(e){console.error("Failed to load WPConsent styles:",e)}},initializeEventListeners:function(){this.shadowRoot.querySelectorAll(".wpconsent-accept-all").forEach((e=>e.addEventListener("click",(()=>this.acceptAll())))),this.shadowRoot.querySelector("#wpconsent-cancel-all")?.addEventListener("click",(()=>{this.savePreferences({essential:!0,statistics:!1,marketing:!1})})),this.shadowRoot.querySelector("#wpconsent-banner-close")?.addEventListener("click",(()=>this.hideBanner())),this.shadowRoot.querySelector("#wpconsent-preferences-all")?.addEventListener("click",(()=>this.showPreferences()));const e=this.shadowRoot.querySelector("#wpconsent-consent-floating");e&&e.addEventListener("click",(()=>this.showPreferences())),this.shadowRoot.querySelector(".wpconsent-save-preferences")?.addEventListener("click",(()=>{const e=this.shadowRoot.querySelectorAll('#wpconsent-preferences-modal input[type="checkbox"]'),t=Array.from(e).filter((e=>e.checked)).map((e=>e.value));this.savePreferences({essential:!0,statistics:t.includes("statistics"),marketing:t.includes("marketing")})})),this.shadowRoot.querySelector(".wpconsent-close-preferences")?.addEventListener("click",(()=>this.closePreferences()))}},document.addEventListener("DOMContentLoaded",(()=>WPConsent.init()))}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(799),n(981),n(89)})()})();